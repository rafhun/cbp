<!-- START module_memberdir_modify.html -->
<script type="text/javascript">
// <![CDATA[
function emptyList() {
    var select = document.getElementById("sortSelection");

    for (var i = select.length; i >= 0; i--) {
        select.remove(i);
    }
}

function updateSortSelection(init) {
	if (init) {
		selectedSort = {MEMBERDIR_SELECTED_SORT};
	} else {
		selectedSort = document.getElementById('sortSelection').value;
	}

    emptyList();

    var select = document.getElementById("sortSelection");

    select[select.options.length] = new Option('{TXT_MEMBERDIR_USER_DEFINED}', 0);
    for (var i = 1; i < 19; i++) {
        if (document.getElementById("field_active_" + i).checked) {
            var value = document.getElementById("field_name_" + i).value;
            select[select.options.length] = new Option(value,i);
            if (selectedSort == i) {
            	select.options[select.options.length-1].selected = true;
            }

        }
    }
}
// ]]>
</script>
<form action="{MEMBERDIR_ACTION}" method="post">
<table class="adminlist" cellspacing="0" cellpadding="3" width="100%" border="0">
  <tr>
  	<th colspan="2">
  		<div align="left">{TXT_TITLE}</div>
  	</th>
  </tr>
  <tr class="row1">
  	<td style="width: 10%">{TXT_DIR_NAME}:</td>
  	<td><input type="text" name="dir_name" value="{MEMBERDIR_DIR_NAME}" style="width: 300px;" /></td>
  </tr>
  <tr class="row2">
    <td>{TXT_PARENT_DIR}:</td>
    <td>{PARENT_DIRLIST}</td>
  </tr>
  <tr class="row1">
  	<td style="vertical-align: top;">{TXT_DESCRIPTION}:</td>
  	<td style="vertical-align: top;"><textarea name="dir_desc" style="width: 300px; height: 75px;" cols="15" rows="7">{MEMBERDIR_DESCRIPTION}</textarea></td>
  </tr>
  <tr class="row2">
    <td style="vertical-align: top;">{TXT_DISPLAY_MODE}:</td>
    <td style="vertical-align: top;">
        <input type="radio" name="displaymode" value="0" {MODE_0_CHECKED} /> {TXT_DISPLAY_MODE_BOTH} <br />
        <input type="radio" name="displaymode" value="1" {MODE_1_CHECKED} /> {TXT_DISPLAY_MODE_DIR_ONLY} <br />
        <input type="radio" name="displaymode" value="2" {MODE_2_CHECKED} /> {TXT_DISPLAY_MODE_ENTRIES_ONLY} <br />
    </td>
  </tr>
  <tr class="row1">
    <td>
        {TXT_SORT}:
    </td>
    <td>
        <select name="sortSelection" id="sortSelection" style="width:300px;">
        </select>
    </td>
  </tr>
  <tr class="row2">
  	<td>{TXT_MEMBERDIR_LANGUAGE}</td>
  	<td>{MEMBERDIR_LANGUAGE_MENU}</td>
  </tr>
 </table>

<br /><br />
<table class="adminlist" cellspacing="0" cellpadding="3" width="100%" border="0" style="empty-cells: show;">
  <tr>
    <th colspan="3">
    	{TXT_FIELDS}
    </th>
  </tr>
  <!--
  <tr class="row1">
  	<td><strong>{TXT_DIRECTORY}</strong></td>
  	<td>
  	{MEMBERDIR_DIRECTORY_LIST}
  	</td>
  </tr>-->
  <tr class="row3">
  	<td><strong>{TXT_ACTIVE}</strong></td>
  	<td><strong>{TXT_NAME}</strong></td>
  	<td><strong>{TXT_TYPE}</strong></td>
  </tr>
  <tr class="row2">
    <td style="vertical-align: top;"><input type="checkbox" id="field_active_pic1" name="field_active_pic1" {MEMBERDIR_FIELD_PIC_1} /></td>
    <td>{TXT_PIC_UPLOAD} 1</td>
    <td></td>
  </tr>
  <tr class="row1">
    <td style="vertical-align: top;"><input type="checkbox" id="field_active_pic2" name="field_active_pic2" {MEMBERDIR_FIELD_PIC_2} /></td>
    <td>{TXT_PIC_UPLOAD} 2</td>
    <td></td>
  </tr>
  <tr class="row2">
  	<td style="vertical-align: top; width: 40px;"><input type="checkbox" id="field_active_1" name="field_active_1" {MEMBERDIR_FIELD_ACTIVE_1} onchange="updateSortSelection()" /></td>
  	<td style="width: 250px;"><input type="hidden" name="field_name_1" id="field_name_1" value="{MEMBERDIR_FIELD_NAME_1}" style="width: 200px;"  />{MEMBERDIR_FIELD_NAME_1}</td>
  	<td>{TXT_ONE_ROW}</td>
  </tr>
  <tr class="row1">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_2" id="field_active_2" {MEMBERDIR_FIELD_ACTIVE_2} onchange="updateSortSelection()" /></td>
  	<td><input type="hidden" name="field_name_2" id="field_name_2" value="{MEMBERDIR_FIELD_NAME_2}" style="width: 200px;"  />{MEMBERDIR_FIELD_NAME_2}</td>
  	<td>{TXT_ONE_ROW}</td>
  </tr>
  <tr class="row2">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_3" id="field_active_3" {MEMBERDIR_FIELD_ACTIVE_3} onchange="updateSortSelection()" /></td>
  	<td><input type="hidden" name="field_name_3" id="field_name_3" value="{MEMBERDIR_FIELD_NAME_3}" style="width: 200px;"  />{MEMBERDIR_FIELD_NAME_3}</td>
  	<td>{TXT_ONE_ROW}</td>
  </tr>
  <tr class="row1">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_4" id="field_active_4" {MEMBERDIR_FIELD_ACTIVE_4} onchange="updateSortSelection()" /></td>
  	<td><input type="hidden" name="field_name_4" id="field_name_4" value="{MEMBERDIR_FIELD_NAME_4}" style="width: 200px;"  />{MEMBERDIR_FIELD_NAME_4}</td>
  	<td>{TXT_ONE_ROW}</td>
  </tr>
  <tr class="row2">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_5" id="field_active_5" {MEMBERDIR_FIELD_ACTIVE_5} onchange="updateSortSelection()" /></td>
  	<td><input type="hidden" name="field_name_5" id="field_name_5" value="{MEMBERDIR_FIELD_NAME_5}" style="width: 200px;"  />{MEMBERDIR_FIELD_NAME_5}</td>
  	<td>{TXT_ONE_ROW}</td>
  </tr>
  <tr class="row1">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_6" id="field_active_6" {MEMBERDIR_FIELD_ACTIVE_6} onchange="updateSortSelection()" /></td>
  	<td><input type="hidden" name="field_name_6" id="field_name_6" value="{MEMBERDIR_FIELD_NAME_6}" style="width: 200px;"  />{MEMBERDIR_FIELD_NAME_6}</td>
  	<td>{TXT_ONE_ROW}</td>
  </tr>
  <tr class="row2">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_7" id="field_active_7" {MEMBERDIR_FIELD_ACTIVE_7}onchange="updateSortSelection()"  /></td>
  	<td><input type="hidden" name="field_name_7" id="field_name_7" value="{MEMBERDIR_FIELD_NAME_7}" style="width: 200px;" />{MEMBERDIR_FIELD_NAME_7}</td>
  	<td>{TXT_ONE_ROW}</td>
  </tr>
  <tr class="row1">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_8" id="field_active_8" {MEMBERDIR_FIELD_ACTIVE_8} onchange="updateSortSelection()" /></td>
  	<td><input type="hidden" name="field_name_8" id="field_name_8" value="{MEMBERDIR_FIELD_NAME_8}" style="width: 200px;"  />{MEMBERDIR_FIELD_NAME_8}</td>
  	<td>{TXT_ONE_ROW}</td>
  </tr>
  <tr class="row2">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_9" id="field_active_9" {MEMBERDIR_FIELD_ACTIVE_9} onchange="updateSortSelection()" /></td>
  	<td><input type="hidden" name="field_name_9" id="field_name_9" value="{MEMBERDIR_FIELD_NAME_9}" style="width: 200px;"  />{MEMBERDIR_FIELD_NAME_9}</td>
  	<td>{TXT_ONE_ROW}</td>
  </tr>
  <tr class="row1">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_10" id="field_active_10" {MEMBERDIR_FIELD_ACTIVE_10} onchange="updateSortSelection()" /></td>
  	<td><input type="hidden" name="field_name_10" id="field_name_10" value="{MEMBERDIR_FIELD_NAME_10}" style="width: 200px;"  />{MEMBERDIR_FIELD_NAME_10}</td>
  	<td>{TXT_ONE_ROW}</td>
  </tr>
  <tr class="row2">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_11" id="field_active_11" {MEMBERDIR_FIELD_ACTIVE_11} onchange="updateSortSelection()" /></td>
  	<td><input type="hidden" name="field_name_11" id="field_name_11" value="{MEMBERDIR_FIELD_NAME_11}" style="width: 200px;" />{MEMBERDIR_FIELD_NAME_11}</td>
  	<td>{TXT_ONE_ROW}</td>
  </tr>
  <tr class="row1">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_12" id="field_active_12" {MEMBERDIR_FIELD_ACTIVE_12} onchange="updateSortSelection()" /></td>
  	<td><input type="hidden" name="field_name_12" id="field_name_12" value="{MEMBERDIR_FIELD_NAME_12}" style="width: 200px;" />{MEMBERDIR_FIELD_NAME_12}</td>
  	<td>{TXT_ONE_ROW}</td>
  </tr>
  <tr class="row2">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_13" id="field_active_13" {MEMBERDIR_FIELD_ACTIVE_13} onchange="updateSortSelection()" /></td>
  	<td><input type="text" name="field_name_13" id="field_name_13" value="{MEMBERDIR_FIELD_NAME_13}" style="width: 200px;" onchange="updateSortSelection()" /></td>
  	<td>{TXT_MORE_ROW}</td>
  </tr>
  <tr class="row1">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_14" id="field_active_14" {MEMBERDIR_FIELD_ACTIVE_14} onchange="updateSortSelection()" /></td>
  	<td><input type="text" name="field_name_14" id="field_name_14" value="{MEMBERDIR_FIELD_NAME_14}" style="width: 200px;" onchange="updateSortSelection()" /></td>
  	<td>{TXT_MORE_ROW}</td>
  </tr>
  <tr class="row2">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_15" id="field_active_15" {MEMBERDIR_FIELD_ACTIVE_15} onchange="updateSortSelection()" /></td>
  	<td><input type="text" name="field_name_15" id="field_name_15" value="{MEMBERDIR_FIELD_NAME_15}" style="width: 200px;" onchange="updateSortSelection()" /></td>
  	<td>{TXT_MORE_ROW}</td>
  </tr>
  <tr class="row1">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_16" id="field_active_16" {MEMBERDIR_FIELD_ACTIVE_16} onchange="updateSortSelection()" /></td>
  	<td><input type="text" name="field_name_16" id="field_name_16" value="{MEMBERDIR_FIELD_NAME_16}" style="width: 200px;" onchange="updateSortSelection()" /></td>
  	<td>{TXT_MORE_ROW}</td>
  </tr>
    <tr class="row1">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_17" id="field_active_17" {MEMBERDIR_FIELD_ACTIVE_17} onchange="updateSortSelection()" /></td>
  	<td><input type="text" name="field_name_17" id="field_name_17" value="{MEMBERDIR_FIELD_NAME_17}" style="width: 200px;" onchange="updateSortSelection()" /></td>
  	<td>{TXT_MORE_ROW}</td>
  </tr>
    <tr class="row1">
  	<td style="vertical-align: top;"><input type="checkbox" name="field_active_18" id="field_active_18" {MEMBERDIR_FIELD_ACTIVE_18} onchange="updateSortSelection()" /></td>
  	<td><input type="text" name="field_name_18" id="field_name_18" value="{MEMBERDIR_FIELD_NAME_18}" style="width: 200px;" onchange="updateSortSelection()" /></td>
  	<td>{TXT_MORE_ROW}</td>
  </tr>
 </table>
<br />
<br />
<input type="submit" value="{TXT_SAVE}" />
</form>
<script type="text/javascript">
// <![CDATA[
updateSortSelection(true);
// ]]>
</script>
<!-- END module_memberdir_modify.html -->
